import{_,o as a,c as d,r as o,a as u,w as p,b as m,t as B,F as h,d as C,e as g,m as v,f as $,g as y,h as x}from"./index-477ff7e4.js";import{L as M}from"./Loader-1dfa8889.js";import{p as k}from"./img-cat-und-51ac8233.js";import{H as L}from"./Heading-ad49a058.js";const I={name:"ButtonMore"},O={class:"button-more montserrat montserrat-white"};function w(t,s,e,n,l,r){return a(),d("button",O,"Show more")}const S=_(I,[["render",w]]);const N={props:{breed:{type:Object,required:!0}},created(){this.getCatImageOne()},data(){return{catImageOne:{}}},computed:{imgUrl(){var t,s;return((s=(t=this.breed)==null?void 0:t.image)==null?void 0:s.url)||this.catImageOne.url||k}},methods:{async getCatImageOne(){var e,n;if((n=(e=this.breed)==null?void 0:e.image)!=null&&n.url)return;const s=await(await fetch(`https://api.thecatapi.com/v1/images/${this.breed.reference_image_id}`,{headers:{"x-api-key":"live_KFpgScJqF1t6NLPSMjvE7Ot615bVsArzsbnXqnJ1Oh8BetSYzB48dZjdrBTPKc96"}})).json();this.catImageOne=s}}},P=["src","alt"],V={class:"catalog-card__breed"};function j(t,s,e,n,l,r){const c=o("RouterLink");return a(),u(c,{to:`/breeds/${e.breed.id}`,class:"catalog-card"},{default:p(()=>[m("img",{class:"catalog-card__img",src:r.imgUrl,alt:e.breed.name},null,8,P),m("div",V,B(e.breed.name),1)]),_:1},8,["to"])}const q=_(N,[["render",j]]);const F={components:{CatalogCard:q},props:{breeds:{type:Array,required:!0}}},H={class:"row"};function A(t,s,e,n,l,r){const c=o("CatalogCard");return a(),d("div",H,[(a(!0),d(h,null,C(e.breeds,i=>(a(),d("div",{class:"catalog col-xs-12 col-sm-6 col-md-4 col-lg-3",key:i.id},[g(c,{breed:i},null,8,["breed"])]))),128))])}const z=_(F,[["render",A]]);const E={name:"MainPage",components:{Catalog:z,Loader:M,Heading:L,ButtonMore:S},created(){this.getBreeds()},data(){return{startIndex:0,visibleBreedsCount:8}},computed:{...v(["breeds","breedsLoading"]),hasMoreBreeds(){return this.breeds.length>this.startIndex+this.visibleBreedsCount},visibleBreeds(){return this.breeds.slice(0,this.startIndex+this.visibleBreedsCount)}},methods:{...$(["getBreeds"]),loadMoreBreeds(){this.startIndex+=this.visibleBreedsCount}}},J=m("div",{class:"green-label"},"alog",-1),K={key:0};function R(t,s,e,n,l,r){const c=o("Heading"),i=o("Loader"),b=o("Catalog"),f=o("ButtonMore");return a(),d(h,null,[g(c,null,{default:p(()=>[x(" Cat "),J]),_:1}),t.breedsLoading?(a(),d("div",K,[g(i)])):(a(),u(b,{key:1,breeds:r.visibleBreeds},null,8,["breeds"])),!t.breedsLoading&&r.hasMoreBreeds?(a(),u(f,{key:2,onClick:r.loadMoreBreeds},null,8,["onClick"])):y("",!0)],64)}const Y=_(E,[["render",R]]);export{Y as default};
